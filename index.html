---
layout: popart
title: "Event-Kalender Hof"
---

<div class="container">
    <div class="calendar-container">
        <!-- Suchmaske und Filter -->
        <div class="search-filter-section">
            <div class="row">
                <div class="twelve columns">
                    <input type="text" id="searchInput" class="u-full-width" placeholder="ğŸ” Events durchsuchen...">
                </div>
            </div>

            <div class="filters">
                <div class="row">
                    <div class="three columns">
                        <label for="categoryFilter">Kategorie</label>
                        <select id="categoryFilter" class="u-full-width">
                            <option value="">Alle Kategorien</option>
                            <option value="Musik">Musik</option>
                            <option value="Theater">Theater</option>
                            <option value="Sport">Sport</option>
                            <option value="Kultur">Kultur</option>
                            <option value="Markt">Markt</option>
                            <option value="Fest">Fest</option>
                            <option value="Sonstiges">Sonstiges</option>
                        </select>
                    </div>

                    <div class="three columns">
                        <label for="timeFilter">Zeitraum</label>
                        <select id="timeFilter" class="u-full-width">
                            <option value="sunrise">Nur bis Sonnenaufgang</option>
                            <option value="tatort">Bis zum Tatort</option>
                            <option value="all">Unfiltriert, volle Breitseite RockCity</option>
                        </select>
                    </div>

                    <div class="two columns">
                        <label for="radiusFilter">Umkreis</label>
                        <select id="radiusFilter" class="u-full-width">
                            <option value="1">ğŸš¶ 10 min zu FuÃŸ (ca. 1 km)</option>
                            <option value="3" selected>ğŸš´ 10 min Rad (ca. 3 km)</option>
                            <option value="10">ğŸšŒ 30 min Bus &amp; Bahn (bis 10 km)</option>
                            <option value="999999">ğŸ›ï¸ Zur Not auch Bindlach-SÃ¼d</option>
                        </select>
                    </div>

                    <div class="four columns">
                        <label>&nbsp;</label>
                        <button type="button" id="resetFilters" class="button">Filter zurÃ¼cksetzen</button>
                        <button type="button" id="useLocation" class="button button-primary">ğŸ“ Mein Standort</button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="twelve columns info-banner">
                    <span id="eventCount">0 Events</span> gefunden
                    <span id="dawnTime" class="dawn-time"></span>
                </div>
            </div>
        </div>

        <!-- Karte -->
        <div class="row">
            <div class="twelve columns">
                <div class="map-container">
                    <div id="map"></div>
                </div>
            </div>
        </div>

        <!-- Event-Liste (wird dynamisch gefÃ¼llt) -->
        <div class="row">
            <div class="twelve columns">
                <div class="event-list" id="eventList">
                    <div class="loading" id="loadingSpinner">
                        <div class="spinner"></div>
                        <span>Lade Events...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Event-Daten MÃœSSEN VOR main.js geladen werden -->
<script>
// Event-Daten aus Jekyll
const allEvents = [
    {% for event in site.events %}
    {% if event.status == "Ã–ffentlich" %}
    {
        title: {{ event.title | jsonify }},
        date: "{{ event.date | date: '%Y-%m-%d' }}",
        startTime: "{{ event.start_time }}",
        endTime: "{{ event.end_time }}",
        location: {{ event.location | jsonify }},
        address: {{ event.address | jsonify }},
        category: {{ event.category | jsonify }},
        description: {{ event.description | jsonify }},
        url: "{{ event.url | relative_url }}",
        coordinates: {
            lat: {{ event.coordinates.lat | default: site.default_center.lat }},
            lng: {{ event.coordinates.lng | default: site.default_center.lng }}
        },
        tags: {{ event.tags | jsonify }}
    }{% unless forloop.last %},{% endunless %}
    {% endif %}
    {% endfor %}
];

// Konfiguration
const config = {
    defaultCenter: {
        lat: {{ site.default_center.lat }},
        lng: {{ site.default_center.lng }}
    },
    defaultZoom: 13
};

console.log('Event-Daten geladen:', allEvents.length, 'Events');
console.log('Config:', config);
</script>

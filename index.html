---
layout: popart
title: "Event-Kalender Hof"
---

<!-- BildschirmfÃ¼llende Karte -->
<div id="map" class="fullscreen-map"></div>

<!-- Transparenter Header mit Suche -->
<header class="overlay-header">
    <div class="header-content">
        <button type="button" id="searchToggle" class="search-toggle" aria-label="Suche Ã¶ffnen">ğŸ”</button>
        
        <div id="searchPanel" class="search-panel collapsed">
            <input type="text" id="searchInput" placeholder="Events durchsuchen..." class="search-input">
        </div>
        
        <button type="button" id="useLocation" class="button-icon" title="Mein Standort">ğŸ“</button>
    </div>
</header>

<!-- Interaktiver Footer -->
<footer class="overlay-footer">
    <div class="footer-content">
        <div class="event-info">
            <span id="eventCount">0 Events</span>
            
            <select id="categoryFilter" class="inline-select">
                <option value="">ğŸ“ alle Kategorien</option>
                <option value="Musik">ğŸµ Musik</option>
                <option value="Theater">ğŸ­ Theater</option>
                <option value="Sport">âš½ Sport</option>
                <option value="Kultur">ğŸ¨ Kultur</option>
                <option value="Markt">ğŸ›’ Markt</option>
                <option value="Fest">ğŸ‰ Fest</option>
                <option value="Sonstiges">ğŸ“Œ Sonstiges</option>
            </select>
            
            <select id="radiusFilter" class="inline-select">
                <option value="1">ğŸš¶ 1 km Umkreis</option>
                <option value="3" selected>ğŸš´ 3 km Umkreis</option>
                <option value="10">ğŸšŒ 10 km Umkreis</option>
                <option value="999999">ğŸš• unbegrenzt</option>
            </select>
            
            <select id="timeFilter" class="inline-select">
                <option value="sunrise">ğŸŒ… bis Sonnenaufgang</option>
                <option value="tatort">ğŸ“º bis Tatort</option>
                <option value="all">ğŸ¸ alle Events</option>
            </select>
        </div>
        <a href="https://github.com/feileberlin/event-kalender-hof/discussions" class="logo-link" target="_blank" rel="noopener" title="Diskussionen">
            <img src="{{ '/favicon.svg' | relative_url }}" alt="Logo" class="footer-logo">
        </a>
    </div>
</footer>

<!-- Event-Liste Sidebar (ausklappbar) -->
<div id="eventSidebar" class="event-sidebar collapsed">
    <button type="button" id="sidebarToggle" class="sidebar-toggle">ğŸ“‹</button>
    <div class="event-list" id="eventList">
        <div class="loading" id="loadingSpinner">
            <div class="spinner"></div>
            <p>Events werden geladen...</p>
        </div>
    </div>
</div>

<!-- Event-Daten MÃœSSEN VOR main.js geladen werden -->
<script>
// Event-Daten aus Jekyll
const allEvents = [
    {% for event in site.events %}
    {% if event.status == "Ã–ffentlich" %}
    {
        title: {{ event.title | jsonify }},
        date: "{{ event.date | date: '%Y-%m-%d' }}",
        startTime: "{{ event.start_time }}",
        endTime: "{{ event.end_time }}",
        location: {{ event.location | jsonify }},
        address: {{ event.address | jsonify }},
        category: {{ event.category | jsonify }},
        description: {{ event.description | jsonify }},
        url: "{{ event.url | relative_url }}",
        coordinates: {
            lat: {{ event.coordinates.lat | default: site.default_center.lat }},
            lng: {{ event.coordinates.lng | default: site.default_center.lng }}
        },
        tags: {{ event.tags | jsonify }}
    }{% unless forloop.last %},{% endunless %}
    {% endif %}
    {% endfor %}
];

// Konfiguration
const config = {
    defaultCenter: {
        lat: {{ site.default_center.lat }},
        lng: {{ site.default_center.lng }}
    },
    defaultZoom: 14  // Zoom 14 = 3 km Umkreis (Rad)
};

console.log('Event-Daten geladen:', allEvents.length, 'Events');
console.log('Config:', config);
</script>
